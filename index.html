<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Frame Animator Pro</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0a0e17;
--surface:#141824;
--surface2:#1a1f2e;
--border:#2a2f3e;
--text:#e4e6eb;
--text2:#9ca3af;
--primary:#3b82f6;
--primary-dim:#2563eb;
--accent:#10b981;
--danger:#ef4444;
--shadow:0 20px 60px rgba(0,0,0,.5);
}
body{
font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
background:var(--bg);
color:var(--text);
overflow:hidden;
height:100vh;
}
.app{
display:grid;
grid-template-columns:280px 1fr 320px;
height:100vh;
gap:1px;
background:var(--border);
}
.panel{
background:var(--surface);
display:flex;
flex-direction:column;
overflow:hidden;
}
.header{
padding:16px 20px;
border-bottom:1px solid var(--border);
display:flex;
align-items:center;
justify-content:space-between;
}
.logo{
font-size:18px;
font-weight:700;
letter-spacing:-.5px;
display:flex;
align-items:center;
gap:10px;
}
.logo::before{
content:'';
width:32px;
height:32px;
background:linear-gradient(135deg,var(--primary),var(--accent));
border-radius:8px;
animation:pulse 3s ease-in-out infinite;
}
@keyframes pulse{
0%,100%{transform:scale(1);opacity:1}
50%{transform:scale(1.05);opacity:.9}
}
.btn{
padding:8px 16px;
border:1px solid var(--border);
background:var(--surface2);
color:var(--text);
border-radius:8px;
cursor:pointer;
font-size:13px;
font-weight:500;
transition:all .2s cubic-bezier(.4,0,.2,1);
white-space:nowrap;
}
.btn:hover{
background:var(--primary);
border-color:var(--primary);
transform:translateY(-1px);
box-shadow:0 4px 12px rgba(59,130,246,.3);
}
.btn.primary{
background:var(--primary);
border-color:var(--primary);
}
.btn.primary:hover{
background:var(--primary-dim);
}
.btn.danger{
background:var(--danger);
border-color:var(--danger);
}
.btn.small{
padding:6px 12px;
font-size:12px;
}
.content{
flex:1;
overflow-y:auto;
padding:16px;
}
.content::-webkit-scrollbar{
width:6px;
}
.content::-webkit-scrollbar-track{
background:transparent;
}
.content::-webkit-scrollbar-thumb{
background:var(--border);
border-radius:3px;
}
.section{
margin-bottom:24px;
}
.section-title{
font-size:11px;
font-weight:600;
text-transform:uppercase;
color:var(--text2);
margin-bottom:12px;
letter-spacing:.5px;
}
.field{
margin-bottom:12px;
}
.label{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:8px;
font-size:13px;
color:var(--text2);
}
.value{
color:var(--primary);
font-weight:600;
}
input[type="range"]{
width:100%;
height:4px;
border-radius:2px;
background:var(--surface2);
outline:none;
-webkit-appearance:none;
}
input[type="range"]::-webkit-slider-thumb{
-webkit-appearance:none;
width:16px;
height:16px;
border-radius:50%;
background:var(--primary);
cursor:pointer;
transition:all .2s;
}
input[type="range"]::-webkit-slider-thumb:hover{
transform:scale(1.2);
box-shadow:0 0 0 6px rgba(59,130,246,.2);
}
input[type="text"],input[type="number"],select{
width:100%;
padding:10px 12px;
background:var(--surface2);
border:1px solid var(--border);
border-radius:8px;
color:var(--text);
font-size:13px;
transition:all .2s;
}
input[type="text"]:focus,input[type="number"]:focus,select:focus{
outline:none;
border-color:var(--primary);
box-shadow:0 0 0 3px rgba(59,130,246,.1);
}
.canvas-area{
background:var(--bg);
display:flex;
align-items:center;
justify-content:center;
position:relative;
}
.canvas-container{
position:relative;
border-radius:12px;
overflow:hidden;
box-shadow:var(--shadow);
transition:transform .3s cubic-bezier(.4,0,.2,1);
}
canvas{
display:block;
background:#fff;
}
.toolbar{
position:absolute;
top:20px;
left:20px;
display:flex;
gap:8px;
flex-wrap:wrap;
max-width:calc(100% - 40px);
}
.tool-btn{
width:40px;
height:40px;
border:1px solid var(--border);
background:rgba(20,24,36,.95);
backdrop-filter:blur(10px);
border-radius:10px;
display:flex;
align-items:center;
justify-content:center;
cursor:pointer;
transition:all .2s;
font-size:18px;
}
.tool-btn:hover{
background:var(--primary);
border-color:var(--primary);
transform:translateY(-2px);
}
.tool-btn.active{
background:var(--primary);
border-color:var(--primary);
}
.playback{
position:absolute;
bottom:20px;
left:50%;
transform:translateX(-50%);
display:flex;
gap:12px;
align-items:center;
background:rgba(20,24,36,.95);
backdrop-filter:blur(10px);
padding:12px 20px;
border-radius:12px;
border:1px solid var(--border);
}
.play-btn{
width:48px;
height:48px;
border-radius:50%;
background:var(--primary);
border:none;
color:#fff;
font-size:20px;
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
transition:all .2s;
}
.play-btn:hover{
transform:scale(1.1);
box-shadow:0 4px 20px rgba(59,130,246,.4);
}
.timeline{
flex:1;
overflow-x:auto;
overflow-y:hidden;
}
.frames{
display:flex;
gap:8px;
padding:16px;
min-height:120px;
}
.frame{
width:100px;
height:100px;
border:2px solid var(--border);
border-radius:8px;
background:var(--surface2);
cursor:pointer;
position:relative;
flex-shrink:0;
overflow:hidden;
transition:all .2s;
}
.frame:hover{
border-color:var(--primary);
transform:translateY(-4px);
box-shadow:0 8px 20px rgba(0,0,0,.3);
}
.frame.active{
border-color:var(--primary);
box-shadow:0 0 0 3px rgba(59,130,246,.2);
}
.frame canvas{
width:100%;
height:100%;
object-fit:contain;
}
.frame-num{
position:absolute;
top:4px;
right:4px;
background:rgba(0,0,0,.8);
color:#fff;
padding:2px 6px;
border-radius:4px;
font-size:10px;
font-weight:600;
}
.add-frame{
width:100px;
height:100px;
border:2px dashed var(--border);
border-radius:8px;
background:var(--surface2);
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
font-size:32px;
color:var(--text2);
flex-shrink:0;
transition:all .2s;
}
.add-frame:hover{
border-color:var(--accent);
color:var(--accent);
background:rgba(16,185,129,.1);
}
.layers{
display:flex;
flex-direction:column;
gap:8px;
}
.layer{
padding:12px;
background:var(--surface2);
border:1px solid var(--border);
border-radius:8px;
display:flex;
align-items:center;
gap:12px;
cursor:pointer;
transition:all .2s;
}
.layer:hover{
border-color:var(--primary);
}
.layer.active{
background:rgba(59,130,246,.1);
border-color:var(--primary);
}
.layer-preview{
width:40px;
height:40px;
border-radius:6px;
background:var(--bg);
flex-shrink:0;
}
.layer-info{
flex:1;
}
.layer-name{
font-size:13px;
font-weight:500;
margin-bottom:4px;
}
.layer-controls{
display:flex;
gap:6px;
}
.color-grid{
display:grid;
grid-template-columns:repeat(5,1fr);
gap:8px;
}
.color-item{
aspect-ratio:1;
border-radius:8px;
border:2px solid var(--border);
cursor:pointer;
transition:all .2s;
}
.color-item:hover{
transform:scale(1.1);
box-shadow:0 4px 12px rgba(0,0,0,.3);
}
.color-item.active{
border-color:var(--primary);
box-shadow:0 0 0 3px rgba(59,130,246,.2);
}
.modal{
position:fixed;
inset:0;
background:rgba(0,0,0,.8);
backdrop-filter:blur(4px);
display:none;
align-items:center;
justify-content:center;
z-index:1000;
animation:fadeIn .3s;
}
.modal.show{
display:flex;
}
@keyframes fadeIn{
from{opacity:0}
to{opacity:1}
}
.modal-content{
background:var(--surface);
border:1px solid var(--border);
border-radius:16px;
padding:24px;
max-width:500px;
width:90%;
max-height:80vh;
overflow-y:auto;
animation:slideUp .3s cubic-bezier(.4,0,.2,1);
}
@keyframes slideUp{
from{transform:translateY(20px);opacity:0}
to{transform:translateY(0);opacity:1}
}
.modal-header{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:20px;
}
.modal-title{
font-size:20px;
font-weight:600;
}
.close-btn{
width:32px;
height:32px;
border-radius:8px;
border:1px solid var(--border);
background:var(--surface2);
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
transition:all .2s;
}
.close-btn:hover{
background:var(--danger);
border-color:var(--danger);
transform:rotate(90deg);
}
.progress{
width:100%;
height:8px;
background:var(--surface2);
border-radius:4px;
overflow:hidden;
margin-top:12px;
}
.progress-bar{
height:100%;
background:linear-gradient(90deg,var(--primary),var(--accent));
border-radius:4px;
transition:width .3s;
animation:shimmer 2s infinite;
}
@keyframes shimmer{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}
.toast{
position:fixed;
bottom:20px;
right:20px;
background:var(--surface);
border:1px solid var(--border);
border-radius:12px;
padding:16px 20px;
box-shadow:var(--shadow);
display:none;
align-items:center;
gap:12px;
z-index:2000;
animation:slideInRight .3s cubic-bezier(.4,0,.2,1);
}
.toast.show{
display:flex;
}
@keyframes slideInRight{
from{transform:translateX(100%);opacity:0}
to{transform:translateX(0);opacity:1}
}
.toast-icon{
width:24px;
height:24px;
border-radius:50%;
background:var(--accent);
display:flex;
align-items:center;
justify-content:center;
flex-shrink:0;
}
.toast-text{
font-size:14px;
}
.brush-preview{
width:100%;
height:60px;
background:var(--surface2);
border:1px solid var(--border);
border-radius:8px;
display:flex;
align-items:center;
justify-content:center;
margin-top:8px;
}
.brush-dot{
background:var(--primary);
border-radius:50%;
transition:all .2s;
}
.export-options{
display:flex;
flex-direction:column;
gap:12px;
}
.option{
padding:16px;
background:var(--surface2);
border:1px solid var(--border);
border-radius:8px;
cursor:pointer;
transition:all .2s;
}
.option:hover{
border-color:var(--primary);
background:rgba(59,130,246,.05);
}
.option-title{
font-weight:600;
margin-bottom:4px;
}
.option-desc{
font-size:12px;
color:var(--text2);
}
</style>
</head>
<body>
<div class="app">
<div class="panel">
<div class="header">
<div class="logo">Animator</div>
</div>
<div class="content">
<div class="section">
<div class="section-title">Canvas</div>
<div class="field">
<div class="label">
<span>Width</span>
<span class="value" id="widthVal">800</span>
</div>
<input type="range" id="width" min="400" max="1920" value="800" step="1">
</div>
<div class="field">
<div class="label">
<span>Height</span>
<span class="value" id="heightVal">600</span>
</div>
<input type="range" id="height" min="300" max="1080" value="600" step="1">
</div>
</div>
<div class="section">
<div class="section-title">Brush</div>
<div class="field">
<div class="label">
<span>Size</span>
<span class="value" id="brushVal">5</span>
</div>
<input type="range" id="brush" min="1" max="50" value="5" step="1">
<div class="brush-preview">
<div class="brush-dot" id="brushDot"></div>
</div>
</div>
<div class="field">
<div class="label"><span>Color</span></div>
<input type="color" id="color" value="#3b82f6">
</div>
</div>
<div class="section">
<div class="section-title">Palette</div>
<div class="color-grid" id="palette"></div>
</div>
<div class="section">
<div class="section-title">Tools</div>
<button class="btn" id="clearBtn">Clear Frame</button>
<button class="btn" style="margin-top:8px" id="fillBtn">Fill Background</button>
</div>
</div>
</div>
<div class="panel canvas-area">
<div class="canvas-container" id="canvasContainer">
<canvas id="canvas"></canvas>
</div>
<div class="toolbar">
<div class="tool-btn active" data-tool="brush" title="Brush">üñåÔ∏è</div>
<div class="tool-btn" data-tool="eraser" title="Eraser">üßπ</div>
<div class="tool-btn" data-tool="line" title="Line">üìè</div>
<div class="tool-btn" data-tool="rect" title="Rectangle">‚¨ú</div>
<div class="tool-btn" data-tool="circle" title="Circle">‚≠ï</div>
</div>
<div class="playback">
<div class="play-btn" id="playBtn">‚ñ∂Ô∏è</div>
<div class="label" style="margin:0;font-size:12px">
<span id="frameInfo">Frame 1/1</span>
</div>
</div>
</div>
<div class="panel">
<div class="header">
<div style="font-size:14px;font-weight:600">Timeline</div>
<button class="btn small primary" id="addFrameBtn">+ Frame</button>
</div>
<div class="timeline">
<div class="frames" id="frames"></div>
</div>
<div class="content">
<div class="section">
<div class="section-title">Animation</div>
<div class="field">
<div class="label">
<span>FPS</span>
<span class="value" id="fpsVal">12</span>
</div>
<input type="range" id="fps" min="1" max="60" value="12" step="1">
</div>
<div class="field">
<div class="label">
<span>Duration</span>
<span class="value" id="durationVal">0.0s</span>
</div>
</div>
</div>
<div class="section">
<div class="section-title">Export</div>
<button class="btn primary" id="exportBtn" style="width:100%">Export Video</button>
<button class="btn" id="exportFramesBtn" style="width:100%;margin-top:8px">Export Frames</button>
<button class="btn" id="exportGifBtn" style="width:100%;margin-top:8px">Export GIF</button>
</div>
</div>
</div>
</div>
<div class="modal" id="exportModal">
<div class="modal-content">
<div class="modal-header">
<div class="modal-title">Export Video</div>
<div class="close-btn" id="closeExport">‚úï</div>
</div>
<div class="export-options">
<div class="option" data-format="webm">
<div class="option-title">WebM</div>
<div class="option-desc">High quality, web-optimized format</div>
</div>
<div class="option" data-format="mp4">
<div class="option-title">MP4 (Simulation)</div>
<div class="option-desc">Browser limitation - exports as image sequence</div>
</div>
<div class="option" data-format="gif">
<div class="option-title">Animated GIF</div>
<div class="option-desc">Universal compatibility, larger file size</div>
</div>
</div>
<div id="exportProgress" style="display:none">
<div style="margin-top:16px;font-size:14px;color:var(--text2)" id="exportStatus">Processing...</div>
<div class="progress">
<div class="progress-bar" id="progressBar"></div>
</div>
</div>
</div>
</div>
<div class="toast" id="toast">
<div class="toast-icon">‚úì</div>
<div class="toast-text" id="toastText"></div>
</div>
<script>
(()=>{
const canvas=document.getElementById('canvas');
const ctx=canvas.getContext('2d',{willReadFrequently:true});
const widthSlider=document.getElementById('width');
const heightSlider=document.getElementById('height');
const brushSlider=document.getElementById('brush');
const colorPicker=document.getElementById('color');
const fpsSlider=document.getElementById('fps');
const widthVal=document.getElementById('widthVal');
const heightVal=document.getElementById('heightVal');
const brushVal=document.getElementById('brushVal');
const fpsVal=document.getElementById('fpsVal');
const durationVal=document.getElementById('durationVal');
const frameInfo=document.getElementById('frameInfo');
const brushDot=document.getElementById('brushDot');
const paletteEl=document.getElementById('palette');
const framesEl=document.getElementById('frames');
const playBtn=document.getElementById('playBtn');
const addFrameBtn=document.getElementById('addFrameBtn');
const clearBtn=document.getElementById('clearBtn');
const fillBtn=document.getElementById('fillBtn');
const exportBtn=document.getElementById('exportBtn');
const exportFramesBtn=document.getElementById('exportFramesBtn');
const exportGifBtn=document.getElementById('exportGifBtn');
const exportModal=document.getElementById('exportModal');
const closeExport=document.getElementById('closeExport');
const exportStatus=document.getElementById('exportStatus');
const progressBar=document.getElementById('progressBar');
const toast=document.getElementById('toast');
const toastText=document.getElementById('toastText');
let canvasWidth=800;
let canvasHeight=600;
let brushSize=5;
let currentColor='#3b82f6';
let fps=12;
let tool='brush';
let drawing=false;
let lastX=0;
let lastY=0;
let frames=[{id:Date.now(),data:null}];
let currentFrame=0;
let playing=false;
let playInterval=null;
const palette=['#3b82f6','#10b981','#f59e0b','#ef4444','#8b5cf6','#ec4899','#06b6d4','#84cc16','#f97316','#6366f1'];
function showToast(msg){
toastText.textContent=msg;
toast.classList.add('show');
setTimeout(()=>toast.classList.remove('show'),3000);
}
function updateUI(){
widthVal.textContent=canvasWidth;
heightVal.textContent=canvasHeight;
brushVal.textContent=brushSize;
fpsVal.textContent=fps;
durationVal.textContent=(frames.length/fps).toFixed(1)+'s';
frameInfo.textContent=`Frame ${currentFrame+1}/${frames.length}`;
brushDot.style.width=brushSize+'px';
brushDot.style.height=brushSize+'px';
brushDot.style.background=currentColor;
}
function setupCanvas(){
canvas.width=canvasWidth;
canvas.height=canvasHeight;
ctx.fillStyle='#ffffff';
ctx.fillRect(0,0,canvasWidth,canvasHeight);
if(frames[currentFrame].data){
const img=new Image();
img.onload=()=>ctx.drawImage(img,0,0);
img.src=frames[currentFrame].data;
}
}
function saveFrame(){
frames[currentFrame].data=canvas.toDataURL();
updateFramesList();
}
function updateFramesList(){
framesEl.innerHTML='';
frames.forEach((frame,idx)=>{
const div=document.createElement('div');
div.className='frame'+(idx===currentFrame?' active':'');
if(frame.data){
const img=document.createElement('canvas');
img.width=100;
img.height=100;
const tempCtx=img.getContext('2d');
const tempImg=new Image();
tempImg.onload=()=>{
tempCtx.drawImage(tempImg,0,0,100,100);
};
tempImg.src=frame.data;
div.appendChild(img);
}
const num=document.createElement('div');
num.className='frame-num';
num.textContent=idx+1;
div.appendChild(num);
div.onclick=()=>{
saveFrame();
currentFrame=idx;
setupCanvas();
updateUI();
};
framesEl.appendChild(div);
});
const addDiv=document.createElement('div');
addDiv.className='add-frame';
addDiv.textContent='+';
addDiv.onclick=()=>{
saveFrame();
frames.splice(currentFrame+1,0,{id:Date.now(),data:null});
currentFrame++;
setupCanvas();
updateUI();
showToast('Frame added');
};
framesEl.appendChild(addDiv);
}
function draw(e){
if(!drawing)return;
const rect=canvas.getBoundingClientRect();
const x=(e.clientX-rect.left)*canvasWidth/rect.width;
const y=(e.clientY-rect.top)*canvasHeight/rect.height;
ctx.strokeStyle=tool==='eraser'?'#ffffff':currentColor;
ctx.lineWidth=brushSize;
ctx.lineCap='round';
ctx.lineJoin='round';
ctx.beginPath();
ctx.moveTo(lastX,lastY);
ctx.lineTo(x,y);
ctx.stroke();
lastX=x;
lastY=y;
}
canvas.addEventListener('pointerdown',e=>{
drawing=true;
const rect=canvas.getBoundingClientRect();
lastX=(e.clientX-rect.left)*canvasWidth/rect.width;
lastY=(e.clientY-rect.top)*canvasHeight/rect.height;
if(tool==='brush'||tool==='eraser'){
draw(e);
}
});
canvas.addEventListener('pointermove',draw);
canvas.addEventListener('pointerup',()=>{
drawing=false;
saveFrame();
});
canvas.addEventListener('pointerleave',()=>drawing=false);
widthSlider.oninput=()=>{
canvasWidth=+widthSlider.value;
updateUI();
};
widthSlider.onchange=()=>setupCanvas();
heightSlider.oninput=()=>{
canvasHeight=+heightSlider.value;
updateUI();
};
heightSlider.onchange=()=>setupCanvas();
brushSlider.oninput=()=>{
brushSize=+brushSlider.value;
updateUI();
};
colorPicker.oninput=()=>{
currentColor=colorPicker.value;
updateUI();
};
fpsSlider.oninput=()=>{
fps=+fpsSlider.value;
updateUI();
};
document.querySelectorAll('.tool-btn').forEach(btn=>{
btn.onclick=()=>{
document.querySelectorAll('.tool-btn').forEach(b=>b.classList.remove('active'));
btn.classList.add('active');
tool=btn.dataset.tool;
};
});
playBtn.onclick=()=>{
if(playing){
playing=false;
clearInterval(playInterval);
playBtn.textContent='‚ñ∂Ô∏è';
showToast('Playback stopped');
}else{
playing=true;
playBtn.textContent='‚è∏Ô∏è';
let idx=0;
playInterval=setInterval(()=>{
currentFrame=idx;
setupCanvas();
updateUI();
idx=(idx+1)%frames.length;
},1000/fps);
showToast('Playing animation');
}
};
addFrameBtn.onclick=()=>{
saveFrame();
frames.push({id:Date.now(),data:null});
currentFrame=frames.length-1;
setupCanvas();
updateUI();
showToast('Frame added');
};
clearBtn.onclick=()=>{
ctx.fillStyle='#ffffff';
ctx.fillRect(0,0,canvasWidth,canvasHeight);
saveFrame();
showToast('Frame cleared');
};
fillBtn.onclick=()=>{
ctx.fillStyle=currentColor;
ctx.fillRect(0,0,canvasWidth,canvasHeight);
saveFrame();
showToast('Background filled');
};
palette.forEach(col=>{
const div=document.createElement('div');
div.className='color-item';
div.style.background=col;
div.onclick=()=>{
currentColor=col;
colorPicker.value=col;
updateUI();
document.querySelectorAll('.color-item').forEach(c=>c.classList.remove('active'));
div.classList.add('active');
};
paletteEl.appendChild(div);
});
exportBtn.onclick=()=>{
saveFrame();
exportModal.classList.add('show');
};
closeExport.onclick=()=>exportModal.classList.remove('show');
document.querySelectorAll('.option').forEach(opt=>{
opt.onclick=async()=>{
const format=opt.dataset.format;
document.getElementById('exportProgress').style.display='block';
if(format==='webm'){
await exportWebM();
}else if(format==='mp4'){
await exportMP4Simulation();
}else if(format==='gif'){
await exportGIF();
}
setTimeout(()=>exportModal.classList.remove('show'),1500);
};
});
async function exportWebM(){
exportStatus.textContent='Recording video...';
progressBar.style.width='0%';
const stream=canvas.captureStream(fps);
const recorder=new MediaRecorder(stream,{mimeType:'video/webm;codecs=vp9'});
const chunks=[];
recorder.ondataavailable=e=>chunks.push(e.data);
recorder.onstop=()=>{
const blob=new Blob(chunks,{type:'video/webm'});
const url=URL.createObjectURL(blob);
const a=document.createElement('a');
a.href=url;
a.download='animation.webm';
a.click();
URL.revokeObjectURL(url);
showToast('WebM exported');
};
recorder.start();
for(let i=0;i<frames.length;i++){
currentFrame=i;
setupCanvas();
progressBar.style.width=((i+1)/frames.length*100)+'%';
await new Promise(r=>setTimeout(r,1000/fps));
}
recorder.stop();
exportStatus.textContent='Complete!';
}
async function exportMP4Simulation(){
exportStatus.textContent='Exporting frames (MP4 requires server-side encoding)...';
for(let i=0;i<frames.length;i++){
currentFrame=i;
setupCanvas();
const url=canvas.toDataURL('image/png');
const a=document.createElement('a');
a.href=url;
a.download=`frame_${String(i+1).padStart(4,'0')}.png`;
a.click();
progressBar.style.width=((i+1)/frames.length*100)+'%';
await new Promise(r=>setTimeout(r,50));
}
exportStatus.textContent='Frames exported! Use FFmpeg to create MP4';
showToast('Frames exported as PNG sequence');
}
async function exportGIF(){
exportStatus.textContent='Creating GIF...';
const delay=Math.round(1000/fps);
let gifData='GIF89a';
for(let i=0;i<frames.length;i++){
currentFrame=i;
setupCanvas();
progressBar.style.width=((i+1)/frames.length*100)+'%';
await new Promise(r=>setTimeout(r,10));
}
showToast('GIF export requires additional library');
exportStatus.textContent='GIF export requires gif.js library';
}
exportFramesBtn.onclick=async()=>{
saveFrame();
showToast('Exporting frames...');
for(let i=0;i<frames.length;i++){
currentFrame=i;
setupCanvas();
const url=canvas.toDataURL('image/png');
const a=document.createElement('a');
a.href=url;
a.download=`frame_${String(i+1).padStart(4,'0')}.png`;
a.click();
await new Promise(r=>setTimeout(r,100));
}
showToast('All frames exported');
};
exportGifBtn.onclick=()=>{
saveFrame();
exportModal.classList.add('show');
document.querySelector('[data-format="gif"]').click();
};
setupCanvas();
updateUI();
updateFramesList();
showToast('Ready to animate');
})();
</script>
</body>
</html>
